import json
import os

translations = {
    'en': {
        'zoom_in': 'â• Zoom In',
        'zoom_out': 'â– Zoom Out',
        'theme_light': 'â˜€ï¸ Light',
        'theme_dark': 'ğŸŒ™ Dark',
        'theme_light_mode': 'â˜€ï¸ Light Mode',
        'theme_dark_mode': 'ğŸŒ™ Dark Mode',
        'status_page': 'Page',
        'status_zoom': 'Zoom',
        'status_ready': 'Ready',
        'status_saving': 'Saving...', 
        'status_saved': 'Save completed',
        'status_reordering': 'Reordering pages...', 
        'status_reordered': 'Pages reordered.',
        'status_rotating': 'Rotating pages...', 
        'status_rotated': 'Pages rotated.',
        'status_printing': 'Preparing print job...', 
        'status_print_done': 'Print job sent.',
        'status_compressing': 'Compressing...', 
        'status_compress_done': 'Compression finished.',
        'error_title': 'Error',
        'status_patch_mode_on': 'ğŸ©¹ Patch mode enabled.',
        'status_patch_mode_off': 'ğŸ©¹ Patch mode disabled.',
        'status_patch_eraser_on': 'ğŸ§½ Eraser mode enabled.',
        'status_patch_eraser_off': 'ğŸ§½ Eraser mode disabled.',
        'unsaved_changes': 'There are unsaved changes. Save?',
        'file_menu': 'File',
        'open': 'ğŸ“‚ Open',
        'save': 'ğŸ’¾ Save',
        'save_as': 'ğŸ“‘ Save As',
        'print': 'ğŸ–¨ï¸ Print',
        'exit': 'ğŸšª Exit',
        'page_menu': 'Pages',
        'add_page': 'ğŸ™ Add Page',
        'delete_page': 'ğŸ—‘ï¸ Delete Page',
        'cm_delete_selected': 'ğŸ—‘ï¸ Delete Selected Pages',
        'cm_save_selected': 'ğŸ’¾ Save Selected Pages',
        'move_up': 'ğŸ‘† Move Up',
        'move_down': 'ğŸ‘‡ Move Down',
        'rotate_left': 'â¤´ï¸ Rotate Left',
        'rotate_right': 'â¤µï¸ Rotate Right',
        'view_menu': 'View',
        'single_view': 'ğŸ“„ Single Page View',
        'dual_view': 'ğŸ“– Two-Page View',
        'fit_width': 'â†”ï¸ Fit Width',
        'fit_height': 'â†•ï¸ Fit Height',
        'support_menu': 'â£ï¸Support the Developerâ£ï¸',
        'donate_kakao': 'Support via KakaoPay',
        'donate_paypal': 'Support via PayPal',
        'donate_paypal_message': 'Please support via <a href="https://www.paypal.com/paypalme/1hwangjinsu">https://www.paypal.com/paypalme/1hwangjinsu</a> ğŸ™ Thank you so much â£ï¸',
        'donate_image_missing': 'Unable to locate the donation image.',
        'tools_menu': 'Tools',
        'compress_pdf': 'ğŸ“¦ Compress PDF',
        'edit_menu': 'Edit',
        'undo': 'â†©ï¸ Undo',
        'redo': 'â†ªï¸ Redo',
        'language_menu': 'Language',
        'korean': 'Korean',
        'english': 'English',
        'help_menu': 'Help', 'licenses_menu': 'ğŸ“œ Open-Source Licenses', 'licenses_title': 'Open-Source Licenses',
        'usage_guide': 'â“ User Guide',
        'about': 'â„¹ï¸ About',
        'prev': 'ğŸ‘ˆ Prev',
        'next': 'ğŸ‘‰ Next',
        'add_short': 'ğŸ™ Add',
        'delete_short': 'ğŸ—‘ï¸ Delete',
        'move_up_short': 'ğŸ‘† Up',
        'move_down_short': 'ğŸ‘‡ Down',
        'rotate_left_short': 'â¤´ï¸ Rotate Left',
        'rotate_right_short': 'â¤µï¸ Rotate Right',
        'edit_short': 'âœï¸ Edit',
        'about_text': 'YongPDF\nDeveloper: Hwang Jinsu\nEmail: iiish@hanmail.net\nLicense: Freeware\nChannel: <a href="https://www.youtube.com/playlist?list=PLs36bSFfggCCUX31PYEH_SNgAmVc3dk_B">YongTools Studio</a>\nThis software is free for personal and work use.',
        'info_compress': 'Choose compression mode.\n- General: structure optimization (lossless)\n- Advanced: downsample images (DPI)',
        'alert_no_pdf': 'No PDF is open.',
        'ghostscript_config': 'ğŸ› ï¸ Configure Ghostscript Path',
        'ghostscript_prompt': 'Ghostscript is missing. Install it now?',
        'ghostscript_select': 'Select Ghostscript Executable',
        'ghostscript_set': 'Ghostscript path saved.',
        'ghostscript_not_found': 'Ghostscript executable could not be found.',
        'ghostscript_install': 'Install Now',
        'ghostscript_install_proceed': 'Proceed with installation',
        'ghostscript_install_cancel': 'Cancel',
        'ghostscript_install_hint': 'Opened the Ghostscript download page. After installing, try again.',
        'ghostscript_install_notice_mac': "Ghostscript is required for advanced compression on macOS.\nSelecting 'Proceed' runs 'brew install ghostscript' via Homebrew.\nIf Homebrew is not installed, please install it first from https://brew.sh.",
        'ghostscript_installing': 'Installing Ghostscript via {manager}...',
        'ghostscript_install_success': 'Ghostscript installation completed.',
        'ghostscript_install_failed': 'Failed to install Ghostscript.',
        'ghostscript_install_missing_pm': 'No supported package manager found for automatic install. Please install Ghostscript manually.',
        'ghostscript_install_missing_mac': "Homebrew was not detected. Install it from https://brew.sh and then run 'brew install ghostscript' to add Ghostscript.",
        'ghostscript_install_manual': 'Automatic install is unavailable; opened the Ghostscript download page. Install it and try again.',
        'ghostscript_install_check_path': 'Installation seems complete, but the executable was not found. Please set the path manually.',
        'ghostscript_bundle_ready': 'Using the bundled Ghostscript executable.',
        'ghostscript_program_files_missing': 'Unable to locate the Windows Program Files directory. Please rerun YongPDF as administrator and try again.',
        'ghostscript_local_installing': 'Preparing bundled Ghostscript...', 
        'ghostscript_local_install_done': 'Bundled Ghostscript is ready to use.',
        'ghostscript_local_install_failed': 'Failed to prepare bundled Ghostscript.',
        'ghostscript_resume_title': 'Ghostscript Ready',
        'ghostscript_resume_prompt': "Ghostscript installation is complete.\nResume the advanced PDF compression with your previous settings?\n\nOutput file: {output}\nColor DPI: {dpi_color} / Gray DPI: {dpi_gray} / Mono DPI: {dpi_mono}\nPreserve text/vector: {preserve_vector}",
        'ghostscript_resume_failed': "Ghostscript installation failed.\nPlease restart YongPDF with administrator rights and try again.\n\nError: {error}",
        'loading_app': 'Loading YongPDF...', 
        'loading_external_editor': 'Launching the external editor...', 
        'external_editor_ready': 'External editor started.',
        'external_editor_running': 'External editor is already running.',
        'external_editor_refresh_notice': 'Detected external edits and reloaded the document.',
        'print_error': 'An error occurred while printing.',
        'save_permission_error': 'Cannot write to the current location. Please save to another location.',
        'save_failed': 'Failed to save the file.',
        'general_compress': 'General (lossless, structure optimization)',
        'advanced_compress': 'Advanced (image DPI control)',
        'color_dpi_label': 'Color Image DPI (10 steps)',
        'gray_dpi_label': 'Grayscale Image DPI',
        'mono_dpi_label': 'Monochrome Image DPI',
        'preserve_vector': 'Preserve text/vector (images only)',
        'estimate_prefix': 'Estimated size',
        'selected_dpi': 'Selected DPI',
        'estimate_unavailable': 'estimation unavailable',
        'current': 'current', 
        'color': 'Color', 'gray': 'Gray', 'mono': 'Mono',
        'saved': 'Saved', 'saved_as': 'Saved As',
        'btn_yes': 'Save', 'btn_save_as': 'Save As', 'btn_no': "Don't Save", 'btn_cancel': 'Cancel',
        'err_open_pdf': 'Failed to open PDF.',
        'err_restore': 'Error occurred while restoring.',
        'err_undo': 'Error occurred while undoing.',
        'err_redo': 'Error occurred while redoing.',
        'alert_no_edit_pdf': 'No PDF is open to edit.',
        'err_editor_missing': 'YongPDF_text (app/executable) not found.',
        'err_editor_launch': 'Failed to launch external editor',
        'progress_compress': 'Compressing PDF...', 
        'progress_compress_adv': 'Advanced PDF compression...', 
        'progress_preparing_fonts': 'Preparing fonts for advanced compressionâ€¦',
        'progress_ensuring_fonts': 'Ensuring fonts on page {page}â€¦',
        'progress_applying_overlay': "Applying overlay on page {page}â€¦ '{text}'",
        'compress_done': 'PDF compression completed',
        'compress_error': 'Error occurred during PDF compression',
        'compress_adv_done': 'Advanced PDF compression completed',
        'gs_missing': 'Ghostscript executable not found.\nInstall Ghostscript and add it to PATH.',
        'compress_adv_error': 'Error occurred during advanced PDF compression',
        'compress_adv_permission_error': "Ghostscript installation needs administrator approval.\nChoose 'Install now' to relaunch YongPDF with elevated rights so the install can finish and compression can resume.",
        'ghostscript_install_notice': "Advanced compression requires Ghostscript.\nSelecting 'Install now' will relaunch YongPDF with administrator rights, install Ghostscript automatically, then reopen your document and resume compression.\nContinue?",
        'ghostscript_install_already': 'Ghostscript is already available; no installation is required.'
    },
    'ja': {
        'alert_no_pdf': 'PDFãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚',
        'alert_no_edit_pdf': 'ç·¨é›†ã™ã‚‹PDFãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚',
        'unsaved_changes': 'æœªä¿å­˜ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ',
        'btn_yes': 'ã¯ã„', 'btn_save_as': 'åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜', 'btn_no': 'ã„ã„ãˆ', 'btn_cancel': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
        'zoom_in': 'â• æ‹¡å¤§', 'zoom_out': 'â– ç¸®å°',
        'theme_light': 'â˜€ï¸ ãƒ©ã‚¤ãƒˆ', 'theme_dark': 'ğŸŒ™ ãƒ€ãƒ¼ã‚¯',
        'theme_light_mode': 'â˜€ï¸ ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰', 'theme_dark_mode': 'ğŸŒ™ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰',
        'status_page': 'ãƒšãƒ¼ã‚¸', 'status_zoom': 'å€ç‡',
        'status_ready': 'æº–å‚™å®Œäº†',
        'status_saving': 'ä¿å­˜ä¸­...', 
        'status_saved': 'ä¿å­˜ã—ã¾ã—ãŸã€‚',
        'status_reordering': 'ãƒšãƒ¼ã‚¸ã®é †åºã‚’å¤‰æ›´ã—ã¦ã„ã¾ã™...', 
        'status_reordered': 'ãƒšãƒ¼ã‚¸ã®é †åºã‚’å¤‰æ›´ã—ã¾ã—ãŸã€‚',
        'status_rotating': 'ãƒšãƒ¼ã‚¸ã‚’å›è»¢ã—ã¦ã„ã¾ã™...', 
        'status_rotated': 'ãƒšãƒ¼ã‚¸ã‚’å›è»¢ã—ã¾ã—ãŸã€‚',
        'status_printing': 'å°åˆ·ã‚’æº–å‚™ã—ã¦ã„ã¾ã™...', 
        'status_print_done': 'å°åˆ·ã‚¸ãƒ§ãƒ–ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚',
        'status_compressing': 'åœ§ç¸®ä¸­...', 
        'status_compress_done': 'åœ§ç¸®ãŒå®Œäº†ã—ã¾ã—ãŸã€‚',
        'error_title': 'ã‚¨ãƒ©ãƒ¼',
        'status_patch_mode_on': 'ğŸ©¹ ãƒ‘ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ã¾ã—ãŸã€‚',
        'status_patch_mode_off': 'ğŸ©¹ ãƒ‘ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹ã«ã—ã¾ã—ãŸã€‚',
        'status_patch_eraser_on': 'ğŸ§½ æ¶ˆã—ã‚´ãƒ ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ã¾ã—ãŸã€‚',
        'status_patch_eraser_off': 'ğŸ§½ æ¶ˆã—ã‚´ãƒ ãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹ã«ã—ã¾ã—ãŸã€‚',
        'progress_compress': 'PDF ã‚’åœ§ç¸®ã—ã¦ã„ã¾ã™...', 
        'progress_compress_adv': 'é«˜åº¦ãª PDF åœ§ç¸®ã‚’å®Ÿè¡Œä¸­...', 
        'progress_preparing_fonts': 'é«˜åº¦ãªåœ§ç¸®ç”¨ãƒ•ã‚©ãƒ³ãƒˆã‚’æº–å‚™ã—ã¦ã„ã¾ã™...', 
        'progress_ensuring_fonts': 'ãƒšãƒ¼ã‚¸ {page} ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ä¸­...', 
        'progress_applying_overlay':